import{_ as s,o as a,c as n,S as l}from"./chunks/framework.31056c87.js";const d=JSON.parse('{"title":"electron-builder","description":"","frontmatter":{},"headers":[],"relativePath":"build/electron-builder.md","filePath":"build/electron-builder.md"}'),e={name:"build/electron-builder.md"},o=l(`<h1 id="electron-builder" tabindex="-1">electron-builder <a class="header-anchor" href="#electron-builder" aria-label="Permalink to &quot;electron-builder&quot;">​</a></h1><p>The templates currently used are packaged and built using <a href="https://www.electron.build/" target="_blank" rel="noreferrer">electron-builder</a>.So we need to understand his configuration and better customize program packaging.</p><h2 id="electron-builder-json5" tabindex="-1">electron-builder.json5 <a class="header-anchor" href="#electron-builder-json5" aria-label="Permalink to &quot;electron-builder.json5&quot;">​</a></h2><h3 id="main-config" tabindex="-1">Main Config <a class="header-anchor" href="#main-config" aria-label="Permalink to &quot;Main Config&quot;">​</a></h3><div class="language-json5 line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json5</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">/**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * @see https://www.electron.build/configuration/configuration</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">$schema</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://raw.githubusercontent.com/electron-userland/electron-builder/master/packages/app-builder-lib/scheme.json</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">YourAppID</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">productName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">YourAppName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">asar</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">directories</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">output</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">release/\${version}</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">files</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist-electron</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dist</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">linux</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">public/icon.png</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mac</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">artifactName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${productName}_\${version}.\${ext}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">public/icon.icns</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">target</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dmg</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">win</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">icon</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">public/icon.ico</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">target</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">target</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nsis</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">arch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x64</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">artifactName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${productName}_\${version}.\${ext}</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nsis</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">oneClick</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">perMachine</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">allowToChangeInstallationDirectory</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deleteAppDataOnUninstall</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">false</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><hr><h3 id="details" tabindex="-1">Details <a class="header-anchor" href="#details" aria-label="Permalink to &quot;Details&quot;">​</a></h3><h4 id="schema" tabindex="-1">$schema <a class="header-anchor" href="#schema" aria-label="Permalink to &quot;$schema&quot;">​</a></h4><p>This is a JSON architecture file used to check the correctness of the configuration file. Usually, you don&#39;t need to change it.</p><details><summary> 中文 </summary> 这是一个 JSON 架构文件，用于检查配置文件的正确性。通常情况下，您不需要改变它。 </details><hr><h4 id="appid" tabindex="-1">appId <a class="header-anchor" href="#appid" aria-label="Permalink to &quot;appId&quot;">​</a></h4><p>The unique identifier of an application.</p><ul><li>usually a reverse domain name (such as com. example. myapp). When publishing an application, you need to use the same values in the package name and ID.</li></ul><details><summary> 中文 </summary> 应用程序的唯一标识符。 <li>通常是一个反向域名（例如：com.example.myapp）。在发布应用程序时，您需要在包的名称和 ID 中使用相同的值。</li></details><hr><h4 id="productname" tabindex="-1">productName <a class="header-anchor" href="#productname" aria-label="Permalink to &quot;productName&quot;">​</a></h4><p>The name of the application.</p><details><summary> 中文 </summary> 应用程序的名称。 </details><hr><h4 id="asar" tabindex="-1">asar <a class="header-anchor" href="#asar" aria-label="Permalink to &quot;asar&quot;">​</a></h4><p>Whether to package the application files into an asar file.</p><ul><li>asar is a zip like archive format that can reduce the size of application packages.</li></ul><details><summary> 中文 </summary> asar 是否将应用程序文件打包成一个 asar 文件。 <li>asar 是一种类似于 zip 的归档格式，可以减小应用程序包的大小。</li></details><hr><h4 id="directories" tabindex="-1">directories <a class="header-anchor" href="#directories" aria-label="Permalink to &quot;directories&quot;">​</a></h4><p>Contains some directory configurations.</p><ul><li><strong>output</strong> specifies the output directory of the application package. The \${version} variable is used here to indicate that a directory corresponding to the application version number will be created in the output directory.</li></ul><details><summary> 中文 </summary> 包含了一些目录配置。 <li>output 指定了应用程序包的输出目录。这里使用了 \${version} 变量，表示将在输出目录下创建一个与应用程序版本号相对应的目录。</li></details><hr><h4 id="files" tabindex="-1">files <a class="header-anchor" href="#files" aria-label="Permalink to &quot;files&quot;">​</a></h4><p>The files and directories included in the application:dist-electron and dist..</p><ul><li>dist-electron contains the code of the Electron application.</li><li>dist contains other resources of the application (such as HTML, CSS, images, etc.).</li></ul><details><summary> 中文 </summary> 应用程序包含的文件和目录：dist-electron 和 dist。 <li>dist-electron 包含 Electron 应用程序的代码，</li><li>dist 包含应用程序的其他资源（如 HTML、CSS、图片等）。</li></details><hr><h4 id="linux" tabindex="-1">linux <a class="header-anchor" href="#linux" aria-label="Permalink to &quot;linux&quot;">​</a></h4><p>Specific configurations for the linux platform.</p><ul><li><strong>icon</strong> The icon file for the application is set here. Usually, you need to place the icon file in the application package and specify its relative path here.</li></ul><details><summary> 中文 </summary> linux 平台的特定配置。 <li>icon 这里设置了应用程序的图标文件。通常情况下，您需要将图标文件放在应用程序包中，并在这里指定其相对路径。</li></details><hr><h4 id="mac" tabindex="-1">mac <a class="header-anchor" href="#mac" aria-label="Permalink to &quot;mac&quot;">​</a></h4><p>Specific configurations for the macOS platform.</p><ul><li><strong>icon</strong> Icon is the name of the application, and version is the version number of the application.</li><li><strong>target</strong> The target for application packaging has been specified, set to dmg here, which means packaging the application into a macOS installation program.</li><li><strong>artifactName</strong> The file name of the application package was specified, where the \${productName} and \${version} variables were used. ProductName is the name of the application, and version is the version number of the application.</li></ul><details><summary> 中文 </summary> macOS 平台的特定配置。 <li> icon 是应用程序的名称，version 是应用程序的版本号。</li><li> target指定了应用程序打包的目标，这里设置为 dmg，表示将应用程序打包成一个 macOS 安装程序。</li><li> artifactName 指定了应用程序包的文件名，这里使用了 \${productName} 和 \${version} 变量。productName 是应用程序的名称，version 是应用程序的版本号。</li></details><hr><h4 id="win" tabindex="-1">win <a class="header-anchor" href="#win" aria-label="Permalink to &quot;win&quot;">​</a></h4><p>Specific configurations for the Windows platform.</p><ul><li><strong>icon</strong> Icon is the name of the application, and version is the version number of the application.</li><li><strong>target</strong> The target for application packaging has been specified, where it is set to nsis, which means packaging the application into a Windows installation program. <ul><li><strong>target</strong> The target for application packaging has been specified, where it is set to nsis, which means packaging the application into a Windows installation program.</li><li><strong>arch</strong> The specified CPU architecture for packaging is set to x64, indicating that only 64 bit Windows is packaged.</li></ul></li><li><strong>artifactName</strong> The file name of the application package was specified, where the \${productName} and \${version} variables were used. ProductName is the name of the application, and version is the version number of the application.</li></ul><details><summary> 中文 </summary> Windows 平台的特定配置。 <li>icon 是应用程序的名称，version 是应用程序的版本号。</li><ul><li>target</li><ul><li>target 指定了应用程序打包的目标，这里设置为 nsis，表示将应用程序打包成一个 Windows 安装程序。</li><li>arch 指定了打包的 CPU 架构，这里设置为 x64，表示仅打包 64 位 Windows。</li></ul></ul><li>artifactName 指定了应用程序包的文件名，这里使用了 \${productName} 和 \${version} 变量。productName 是应用程序的名称，version 是应用程序的版本号。</li></details><hr><h4 id="nsis" tabindex="-1">nsis <a class="header-anchor" href="#nsis" aria-label="Permalink to &quot;nsis&quot;">​</a></h4><p>Windows platform specific NSIS configuration.</p><ul><li><strong>oneClick</strong> specifies whether to enable one click installation mode.</li><li><strong>perMachine</strong> specifies whether to install for all users.</li><li><strong>allowToChangeInstallationDirectory</strong> specifies whether users are allowed to change the installation directory.</li><li><strong>deleteAppDataOnUninstall</strong> specifies whether to delete user data when uninstalling the application.</li></ul><details><summary> 中文 </summary> Windows平台特定的 NSIS 配置。 <li> oneClick : 指定是否启用一键安装模式，</li><li> perMachine : 指定是否为所有用户安装，</li><li> allowToChangeInstallationDirectory : 指定是否允许用户更改安装目录，</li><li> deleteAppDataOnUninstall : 指定是否在卸载应用程序时删除用户数据。</li></details><h2 id="build-scripts" tabindex="-1">Build Scripts <a class="header-anchor" href="#build-scripts" aria-label="Permalink to &quot;Build Scripts&quot;">​</a></h2><div class="language-json line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">scripts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">: </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">build-mac</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">electron-builder build --mac</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">build-win</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">electron-builder build --win</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">build-linux</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">electron-builder build --linux</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="more" tabindex="-1">More <a class="header-anchor" href="#more" aria-label="Permalink to &quot;More&quot;">​</a></h2><p>If you want to know more about the configuration, please refer to the <a href="https://www.electron.build/configuration/configuration" target="_blank" rel="noreferrer">electron-build/configuration</a> documentation.</p>`,58),p=[o];function t(r,i,c,D,u,y){return a(),n("div",null,p)}const h=s(e,[["render",t]]);export{d as __pageData,h as default};
